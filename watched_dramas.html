<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>My Watched Dramas</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <link rel="stylesheet" href="styles.css">
  <!-- Add the navigation script -->
  <script src="nav.js"></script>
</head>
<body>
  <h1>My Watched Dramas</h1>
  
  <!-- Navigation will be injected here by nav.js -->
  
  <div class="controls">
    <div id="statusMessage" class="status-pill"></div>
    <div class="control-buttons">
      <button id="quickAddButton" class="control-button">
        <i class="fas fa-plus"></i> Quick Add
      </button>
      <button id="addMoreButton" class="control-button">
        <i class="fas fa-list"></i> Batch Add
      </button>
      <button id="fetchFromTMDBButton" class="control-button">
        <i class="fas fa-sync"></i> Fetch
      </button>
      <button id="clearTableButton" class="control-button danger">
        <i class="fas fa-trash"></i> Clear All
      </button>
    </div>
  </div>
  
  <div id="dramaCount" class="drama-count"></div>
  
  <div id="loadingIndicator" class="loading" style="display: none;">
    <div class="loading-spinner"></div>
    <p>Loading data from TMDB... Please wait.</p>
  </div>
  
  <div id="dramaGrid" class="drama-grid">
    <!-- Drama cards will be inserted here by JS -->
  </div>
  
  <!-- Modal Template -->
  <div id="dramaModal" class="modal-overlay">
    <div class="modal-container">
      <div class="modal-poster">
        <div class="modal-backdrop"></div>
        <img id="modalPoster" src="" alt="Poster">
      </div>
      <div class="modal-content">
        <div class="modal-header">
          <div>
            <h2 id="modalTitle" class="modal-title"></h2>
            <div id="modalRating" class="modal-rating"></div>
          </div>
          <button class="modal-close" id="modalClose">
            <i class="fas fa-times"></i>
          </button>
        </div>

        <div class="modal-overview modal-info-group">
          <div class="modal-info-label">
            <i class="fas fa-align-left info-icon"></i> Overview
          </div>
          <div id="modalOverview" class="modal-info-value"></div>
        </div>
        
        <div class="modal-info-group">
          <div class="modal-info-label">
            <i class="fas fa-calendar-alt info-icon"></i> First Air Date
          </div>
          <div id="modalFirstAirDate" class="modal-info-value"></div>
        </div>
        
        <div class="modal-info-group">
          <div class="modal-info-label">
            <i class="fas fa-calendar-check info-icon"></i> Last Air Date
          </div>
          <div id="modalLastAirDate" class="modal-info-value"></div>
        </div>
        
        <div class="modal-info-group">
          <div class="modal-info-label">
            <i class="fas fa-film info-icon"></i> Episodes
          </div>
          <div id="modalEpisodes" class="modal-info-value"></div>
        </div>
        
        <div class="modal-info-group">
          <div class="modal-info-label">
            <i class="fas fa-layer-group info-icon"></i> Seasons
          </div>
          <div id="modalSeasons" class="modal-info-value"></div>
        </div>
        
        <div class="modal-info-group">
          <div class="modal-info-label">
            <i class="fas fa-clock info-icon"></i> Episode Runtime
          </div>
          <div id="modalRuntime" class="modal-info-value"></div>
        </div>
        
        <div class="modal-info-group">
          <div class="modal-info-label">
            <i class="fas fa-globe info-icon"></i> Origin Country
          </div>
          <div id="modalCountry" class="modal-info-value"></div>
        </div>
        
        <div class="modal-info-group">
          <div class="modal-info-label">
            <i class="fas fa-language info-icon"></i> Language
          </div>
          <div id="modalLanguage" class="modal-info-value"></div>
        </div>
        
        <div class="modal-info-group">
          <div class="modal-info-label">
            <i class="fas fa-money-bill-wave info-icon"></i> Budget
          </div>
          <div id="modalBudget" class="modal-info-value"></div>
        </div>
        
        <div class="modal-info-group">
          <div class="modal-info-label">
            <i class="fas fa-link info-icon"></i> Links
          </div>
          <div id="modalLinks" class="modal-info-value"></div>
        </div>
        
        <div class="modal-info-group">
          <div class="modal-info-label">
            <i class="fas fa-id-card info-icon"></i> IDs
          </div>
          <div id="modalIds" class="modal-info-value"></div>
        </div>
        
        <div class="modal-genres modal-info-group">
          <div class="modal-info-label">
            <i class="fas fa-tags info-icon"></i> Genres
          </div>
          <div id="modalGenres" class="modal-genre-pills"></div>
        </div>

        <!-- Add this new section for cast -->
        <div class="modal-cast-section">
          <h3>Cast Members</h3>
          <div id="modalCast" class="cast-grid"></div>
        </div>
      </div>
    </div>
  </div>
  
  <!-- Quick Add Modal -->
  <div id="quickAddModal" class="modal-overlay">
    <div class="quick-add-container">
      <div class="quick-add-header">
        <h2>Quick Add Drama</h2>
        <button class="modal-close" onclick="closeQuickAddForm()">
          <i class="fas fa-times"></i>
        </button>
      </div>
      <div class="quick-add-content">
        <form id="quickAddForm" onsubmit="searchDrama(event)">
          <div class="form-group">
            <label for="dramaTitle">Drama Title:</label>
            <input type="text" id="dramaTitle" placeholder="Enter drama title..." required>
          </div>
          <button type="submit" class="search-button">
            <i class="fas fa-search"></i> Search
          </button>
        </form>
        <div id="quickAddResults" class="quick-add-results"></div>
      </div>
    </div>
  </div>
  
  <script src="config.js"></script>
  <script src="watched_dramas.js"></script>
</body>
</html>
